goog.require('ol.Feature');
goog.require('ol.Map');
goog.require('ol.RendererHint');
goog.require('ol.View2D');
goog.require('ol.layer.Tile');
goog.require('ol.layer.Vector');
goog.require('ol.parser.WKB');
goog.require('ol.proj');
goog.require('ol.source.MapQuestOSM');
goog.require('ol.source.Vector');

// WKB data as array of bytes. Can be Base64 encoded.
var encodedWKB =
    'AQYAAAACAAAAAQMAAAABAAAAHgAAAP7UeOmmoGVAZan1fqN1RMCyDkdX6adlQAGnd/F' +
    '+qkTAVWr2QKu+ZUDTFWwjnnZEwEZ9kjvsx2VAER5tHLGsRMAAcOzZ88dlQEXURJ+P4k' +
    'TArTWU2gu8ZUCp+Sr52B1FwFrwoq8gp2VASvCGNCp8RcAlrfiGwpZlQLxYGCKnr0XAg' +
    'V8jSZCiZUBxHk5gOu1FwDSCjevfiWVA9SudD8/uRcBO0ZFcfm5lQE7U0twKH0bA5ueG' +
    'puxlZUAujspN1HJGwFLRWPu7U2VAaLEUyVf0RsCZZU8CmzplQAHeAgmKLUfATg6fdKI' +
    'qZUB5Bg39E1JHwIUi3c8pDWVAzCiWW1pPR8B5r1qZcPhkQNsy4CwlJUfA2SPUDKnVZE' +
    'DPaoE9JhxHwIyeW+hK0GRAXhH8byXtRsD8Ny9OfOFkQIxkj1AzjkbAhNcubbgJZUAjS' +
    '+ZY3g9GwOaw+45hHmVA2/y/6sj3RcDnGJC9XjVlQCtPIOwUx0XAhiAHJcxQZUB81jVa' +
    'DoRFwNBhvrwAZGVAVHJO7KFBRcBZwtoYO3JlQC8VG/M64kTAeA360lt+ZUDTwI9q2MF' +
    'EwDkpzHscg2VAk8mpnWF6RMCr56T3jZllQL+7lSU6P0TA/tR46aagZUBlqfV+o3VEwA' +
    'EDAAAAAQAAACQAAABy++WTldNlQKQYINEEFELA7unqjsXqZUBa1Ce5w5pCwMalKm1x6' +
    '2VA+6wyU1pDQsAbZf1m4vllQE6zQLtDZkLAYXE486v+ZUC/ZOPBFsdCwBCv6xdsGGZA' +
    'PkD35czwQsDpgY/BCi5mQDasqSwK+0LAQGzp0VRAZkCcM6K0N8pCwKZetwiMUGZAvcK' +
    'C+wHZQsBRhqqYykhmQIJXy52ZSkPAcEIhAg4/ZkCSdTi6SpVDwAiwyK+fJmZAVkW4ya' +
    'iSQ8CQuwhTFB5mQLzqAfOQuUPAFxHF5A0hZkAMrOP4ofBDwGLAkqtYHGZAtCCU93EIR' +
    'MD8Gd6sQRBmQPktOllqTUTAMSWS6GUAZkCAETRmEqVEwG3GaYiq52VAn8n+eRrYRMDY' +
    'Lm04LOJlQNRDNLqDtkTAhzJUxdTUZUC7KeW1EqREwNWytb5I52VAq5LIPsg6RMB/iA0' +
    'WztxlQKmgoupX9EPAvmvQl166ZUAqOLwgIsFDwPQz9bpFu2VAnMO12sOSQ8Cd9SnHZN' +
    'JlQJ/J/nkaZkPApG38icrXZUCZSGk2jwNDwDF4mPZN1mVAUkfH1ciwQsCFsBpLWMllQ' +
    'D85ChAFW0LAYmngRzXKZUDWjuIcdURCwBdhinLpumVA393KEp0PQsCILNLEu6FlQDEI' +
    'rBxankHA9mIoJ1qUZUDXijbHuUNBwFr2JLA5oGVAZcbbSq85QcA1C7Q7pLFlQEVlw5r' +
    'KgEHAJLTlXIrKZUACnN7F+6FBwHL75ZOV02VApBgg0QQUQsA=';
// Convert Base64 encoded string to array of bytes
//(not necessary as parser automatically decodes if Base64 detected).
var decodedWKB = window.atob(encodedWKB);
var WKB = [];
for (var i = 0; i < decodedWKB.length; ++i) {
  WKB.push(decodedWKB.charCodeAt(i));
}

var WKB2 = new Array(
    1,6,0,0,0,2,0,0,0,1,3,0,0,0,1,0,0,0,30,0,0,0,178,118,171,192,71,94,114,
    65,154,111,38,75,54,19,83,193,18,111,236,29,114,100,114,65,0,245,176,221,
    206,78,83,193,178,93,5,17,198,119,114,65,217,225,69,5,80,20,83,193,49,61,
    130,10,162,127,114,65,216,241,39,202,74,81,83,193,82,89,241,130,168,127,114,
    65,204,158,169,113,111,142,83,193,113,222,167,216,139,117,114,65,148,12,
    236,97,49,210,83,193,124,174,94,179,199,99,114,65,194,81,238,27,5,63,84,
    193,203,7,88,255,224,85,114,65,143,232,141,169,250,122,84,193,110,201,186,
    96,231,95,114,65,252,231,181,179,53,195,84,193,81,117,72,125,239,74,114,
    65,229,193,94,95,18,197,84,193,108,114,229,68,174,51,114,65,33,198,72,101,
    18,254,84,193,175,236,75,38,103,44,114,65,180,131,186,72,246,97,85,193,
    154,62,75,61,244,28,114,65,189,203,73,193,161,254,85,193,149,13,175,182,
    156,7,114,65,168,123,201,183,186,68,86,193,208,194,201,77,12,250,113,65,
    17,249,21,118,207,113,86,193,102,196,188,162,4,225,113,65,122,35,48,164,
    112,110,86,193,117,235,171,234,106,207,113,65,148,48,207,4,104,58,86,193,
    245,117,57,33,225,177,113,65,98,14,144,88,91,47,86,193,156,198,245,17,82,
    173,113,65,186,38,137,27,218,245,85,193,156,124,188,45,236,187,113,65,235,
    14,88,244,214,130,85,193,164,204,33,19,24,222,113,65,83,154,35,216,25,236,
    84,193,215,17,224,34,164,239,113,65,134,52,19,217,166,207,84,193,129,33,81,
    108,42,3,114,65,14,77,239,240,100,150,84,193,221,0,49,180,117,26,114,65,8,
    122,255,20,47,72,84,193,147,144,23,94,197,42,114,65,28,163,1,235,84,251,83,
    193,248,30,43,211,218,54,114,65,178,240,166,6,15,142,83,193,132,177,167,
    171,39,65,114,65,181,74,167,46,65,105,83,193,177,63,211,250,48,69,114,65,
    191,80,197,74,139,24,83,193,198,102,247,158,64,88,114,65,74,156,39,82,64,
    214,82,193,178,118,171,192,71,94,114,65,154,111,38,75,54,19,83,193,1,3,0,0,
    0,1,0,0,0,36,0,0,0,44,50,218,126,137,137,114,65,15,64,38,176,220,124,80,
    193,84,244,247,236,58,157,114,65,72,53,64,36,145,11,81,193,87,251,177,228,
    204,157,114,65,129,72,245,32,197,174,80,193,60,193,113,188,16,170,114,65,
    56,151,216,180,187,211,80,193,60,240,30,152,33,174,114,65,62,171,129,77,
    241,58,81,193,97,249,187,77,0,196,114,65,33,241,137,25,186,103,81,193,108,
    67,246,228,92,214,114,65,57,99,160,57,192,114,81,193,71,79,105,95,229,229,
    114,65,12,19,219,130,75,62,81,193,227,22,8,0,171,243,114,65,176,30,136,
    74,40,78,81,193,222,109,107,196,20,237,114,65,161,12,234,4,210,200,81,
    193,121,48,188,207,207,228,114,65,215,198,114,183,77,26,82,193,16,190,156,
    3,16,208,114,65,45,128,254,146,107,23,82,193,196,207,95,73,206,200,114,65,
    76,28,22,171,30,66,82,193,206,9,112,22,85,203,114,65,128,181,187,206,223,
    126,82,193,198,28,179,125,85,199,114,65,180,237,58,170,67,153,82,193,133,
    134,44,233,16,189,114,65,4,12,240,33,28,230,82,193,83,245,26,243,152,175,
    114,65,118,101,21,221,172,72,83,193,73,41,216,181,151,154,114,65,194,198,
    133,207,136,130,83,193,132,91,39,84,237,149,114,65,132,11,243,95,105,92,
    83,193,216,52,24,150,152,138,114,65,189,49,64,223,139,71,83,193,95,82,182,
    168,68,154,114,65,187,225,92,214,73,209,82,193,29,163,171,70,94,145,114,
    65,208,24,226,94,251,130,82,193,60,8,101,70,31,116,114,65,230,15,1,56,114,
    74,82,193,74,48,119,148,227,116,114,65,167,221,2,55,137,23,82,193,73,12,
    6,161,134,136,114,65,39,203,86,44,191,230,81,193,195,215,184,40,28,141,
    114,65,29,66,84,185,238,123,81,193,224,211,155,239,216,139,114,65,28,34,
    120,79,19,35,81,193,45,141,230,60,215,128,114,65,220,80,117,56,208,199,
    80,193,172,134,44,236,146,129,114,65,252,46,89,5,240,175,80,193,87,149,
    61,52,149,116,114,65,83,132,179,177,58,120,80,193,124,62,32,227,50,95,
    114,65,45,136,239,22,206,1,80,193,93,251,180,130,213,83,114,65,75,129,
    97,176,243,71,79,193,163,254,26,253,234,93,114,65,199,200,41,82,66,51,
    79,193,145,254,234,161,181,108,114,65,124,71,221,181,56,198,79,193,
    193,55,205,46,219,129,114,65,147,2,219,241,148,5,80,193,44,50,218,126,
    137,137,114,65,15,64,38,176,220,124,80,193);
var raster = new ol.layer.Tile({
  source: new ol.source.MapQuestOSM()
});

var parser = new ol.parser.WKB();
//var transform = ol.proj.getTransform('EPSG:4326', 'EPSG:3857');
var transform = ol.proj.getTransform('EPSG:900913', 'EPSG:3857');
var geom = parser.read(WKB2);
geom.transform(transform);
var feature = new ol.Feature();
feature.setGeometry(geom);

var vector = new ol.layer.Vector({
  source: new ol.source.Vector({
    features: [feature]
  })
});

var map = new ol.Map({
  layers: [raster, vector],
  renderer: ol.RendererHint.CANVAS,
  target: 'map',
  view: new ol.View2D({
    center: [19532104.019976033, -5007504.823700756],
    zoom: 5
  })
});
